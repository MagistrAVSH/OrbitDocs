{"config":{"lang":["en"],"separator":"[\\s\\-]+","pipeline":["stopWordFilter"],"fields":{"title":{"boost":1000.0},"text":{"boost":1.0},"tags":{"boost":1000000.0}}},"docs":[{"location":"","title":"None","text":"<p>Welcome to Material for MkDocs.</p>"},{"location":"integration/ad-callbacks/","title":"Ad Lifecycle Callbacks","text":"<p>The SDK provides two callback properties for tracking the advertisement lifecycle:</p> <ul> <li><code>onAdStart</code> \u2014 Called when the advertisement begins showing.  </li> <li><code>onAdEnd</code> \u2014 Called when the advertisement has finished.</li> </ul>"},{"location":"integration/ad-callbacks/#onadstart","title":"onAdStart","text":"<ul> <li>The callback is called before the ad display begins.  </li> <li>Signature: <code>PortalSDK.onAdStart = () =&gt; void</code></li> <li>Parameters: None.  </li> <li>Usage Example:</li> </ul> JavaScript <pre><code>PortalSDK.onAdStart = function() {  \n    console.log('Ad started');  \n    pauseGame();  \n    muteSound();\n};\n</code></pre>"},{"location":"integration/ad-callbacks/#onadend","title":"onAdEnd","text":"<ul> <li>The callback is called after the ad finishes (whether successful or not).  </li> <li>Signature: <code>PortalSDK.onAdEnd = (result: boolean) =&gt; void</code></li> <li>Parameters: </li> <li>result (boolean) \u2014 true if the ad was shown successfully, false if the ad was not shown (e.g., <code>error</code>, <code>cooldown</code>, <code>ads_free</code>, etc.).  </li> <li>Usage Example:</li> </ul> JavaScript <pre><code>PortalSDK.onAdEnd = function(success) {  \n    console.log('Ad ended, success:', success);  \n    resumeGame();  \n    unmuteSound();\n    if (success) {  \n        giveRewardToPlayer();  \n    }  \n};\n</code></pre>"},{"location":"integration/ad-callbacks/#disabling-callbacks","title":"Disabling Callbacks","text":"<p>To disable a callback, set its value to null:</p> JavaScript <pre><code>PortalSDK.onAdStart = null;  \nPortalSDK.onAdEnd = null;\n</code></pre>"},{"location":"integration/ad-callbacks/#notes","title":"Notes","text":"<ul> <li>Callbacks are triggered for both methods: <code>requestAd()</code> and <code>requestRewardAd()</code>.  </li> <li><code>onAdEnd</code> is called in all completion scenarios (<code>success</code>, <code>error</code>, <code>cooldown</code>, <code>ads_free</code>).  </li> <li>Callbacks are synchronous \u2014 they do not block the execution of the ad display logic.  </li> <li>By default, both properties are set to null.</li> </ul>"},{"location":"integration/ad/","title":"Advertisement setup","text":"<p>SDK suggests for now several ways for ad integration into your apps:</p>"},{"location":"integration/ad/#disabling-startup-ads","title":"Disabling startup ads","text":"<p>By default, ads may be shown automatically when your game starts. To disable this behavior and have full control over when ads are displayed, configure the SDK during initialization:</p> JavaScript <pre><code>await window.PortalSDK.initialize(undefined, {\n  disable_startup_ads: true,\n});\n</code></pre>"},{"location":"integration/ad/#interstitial-ads","title":"Interstitial ads","text":"<p>Interstitial ads are used to display video ads and should be triggered on natural breaks in your game.</p> UnityDefoldJavaScript <pre><code>// gameplay stops\nawait PortalSDK.RequestAd();\n</code></pre> <pre><code>-- gameplay stops\nportalsdk.request_ad(function(self, success) end)\n</code></pre> <pre><code>// gameplay stops\nawait window.PortalSDK.requestAd()\n</code></pre>"},{"location":"integration/ad/#rewarded-ads","title":"Rewarded ads","text":"<p>Rewarded ads allow for a user to choose to watch a rewarded video ad in exchange for a certain benefit in the game (e.g. more coins, etc.).  When using  \ud83c\udfac <code>requestRewardAd()</code> , please make it clear to the player beforehand that they\u2019re about to watch an ad.</p> UnityDefoldJavaScript <pre><code>// gameplay stops\nvar success = await PortalSDK.RequestRewardAd();\nif(success) {\n    // give a reward to a user\n}\n</code></pre> <pre><code>-- gameplay stops\nportalsdk.request_reward_ad(function(self, success)\n    if succcess then\n        -- give a reward to a user\n    end\nend)\n</code></pre> <pre><code>// gameplay stops\nconst success = await window.PortalSDK.requestRewardAd()\nif(success) {\n    // give a reward to a user\n}\n</code></pre>"},{"location":"integration/ad/#disable-sound-and-input-during-ads","title":"Disable sound and input during ads","text":"<p>Make sure that audio and keyboard input are disabled during ads, so that the game doesn\u2019t interfere with the ad:</p> UnityDefoldJavaScript <pre><code>// gameplay stops\n// fire your mute audio function\nvar success = await PortalSDK.RequestAd();\n// fire your unmute audio function\n// fire your function to continue to game\n</code></pre> <pre><code>-- gameplay stops\n-- fire your mute audio function\nportalsdk.request_ad(function(self, success)\n    -- fire your unmute audio function\n    -- fire your function to continue to game\nend)\n</code></pre> <pre><code>// gameplay stops\n// fire your mute audio function\nawait window.PortalSDK.requestAd()\n// fire your unmute audio function\n// fire your function to continue to game\n</code></pre>"},{"location":"integration/filter-telegram-logs/","title":"How to Filter Telegram DevTools Messages","text":""},{"location":"integration/filter-telegram-logs/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, ensure you have enabled DevTools in Telegram. For detailed instructions, see how to enable DevTools in Telegram.</p>"},{"location":"integration/filter-telegram-logs/#the-problem","title":"The Problem","text":"<p>If you see a lot of messages like this appearing every few seconds in your console:</p> <pre><code>[Telegram.WebView] \u2039 receiveEvent accelerometer_changed\n</code></pre> <p>You can filter them out using one of the following options:</p>"},{"location":"integration/filter-telegram-logs/#option-1-filter-in-chrome","title":"Option 1: Filter in Chrome","text":"<p>This method works when you open Telegram from Windows or when debugging Android devices.</p> <p>Add <code>-[Telegram.WebView]</code> filter in Chrome DevTools:</p> <p></p>"},{"location":"integration/filter-telegram-logs/#option-2-insert-script-into-devtools","title":"Option 2: Insert Script into DevTools","text":"<p>This method works for all operating systems.</p> <p>Paste the following script into your DevTools console:</p> JavaScript <pre><code>(function() {\n  const originalLog = console.log;\n  console.log = function(...args) {\n    if (args[0]?.includes?.('[Telegram.WebView]')) return;\n    return originalLog.apply(console, args);\n  };\n  console.info('\u2705 Telegram.WebView logs disabled');\n})();\n</code></pre> <p></p>"},{"location":"integration/iap/","title":"In-game purchases","text":""},{"location":"integration/iap/#how-to-add-edit-or-remove-items","title":"How to add, edit, or remove items","text":""},{"location":"integration/iap/#1-get-access-to-admin-console","title":"1. Get access to admin console","text":""},{"location":"integration/iap/#2-select-one-of-your-games-and-click-the-store-button-items","title":"2. Select one of your games and click the store button <code>Items</code>","text":""},{"location":"integration/iap/#3-you-have-access-to-change-items-their-description-and-prices","title":"3. You have access to change items, their description, and prices","text":""},{"location":"integration/iap/#how-to-use-shop-api","title":"How to use Shop API","text":"<p>After you create your items, you can integrate them into your game.   </p>"},{"location":"integration/iap/#1-first-of-all-you-need-to-get-all-your-items","title":"1. First of all, you need to get all your items:","text":"UnityJavaScriptDefold <pre><code>var items = await PortalSDK.GetShopItems();\n</code></pre> <pre><code>const response = await PortalSDK.getShopItems();\n</code></pre> <pre><code>portalsdk.get_shop_items(function(self, data) end)\n</code></pre> <p><code>ShopItem</code> has the same fields as in the admin, and the most important is the <code>id</code></p> UnityJavaScriptDefold <pre><code>public class ShopItem\n{\n    /// &lt;summary&gt;\n    /// The unique identifier of the shop item.\n    /// &lt;/summary&gt;\n    public int id;\n\n    /// &lt;summary&gt;\n    /// The name of the shop item.\n    /// &lt;/summary&gt;\n    public string name;\n\n    /// &lt;summary&gt;\n    /// The description of the shop item.\n    /// &lt;/summary&gt;\n    public string description;\n\n    /// &lt;summary&gt;\n    /// The price of the shop item.\n    /// &lt;/summary&gt;\n    public int price;\n\n    /// &lt;summary&gt;\n    /// The date and time when the shop item was created.\n    /// &lt;/summary&gt;\n    public DateTime created;\n\n    /// &lt;summary&gt;\n    /// The date and time when the shop item was last updated.\n    /// &lt;/summary&gt;\n    public DateTime updated;\n}\n</code></pre> <pre><code>interface ShopItem {\n    id: number;\n    name: string;\n    description: string;\n    price: number;\n    created: string;\n    updated: string;\n}\n</code></pre> <pre><code>local shopItem = {\n    id = 1,\n    name = \"Sample Item\",\n    description = \"This is a sample shop item.\",\n    price = 100,\n    created = \"2025-06-12T10:00:00Z\",\n    updated = \"2025-06-12T12:00:00Z\"\n}\n</code></pre>"},{"location":"integration/iap/#2-the-second-important-api-method-is-getpurchasedshopitems","title":"2. The second important API method is <code>getPurchasedShopItems</code>:","text":"UnityJavaScriptDefold <pre><code>var purchased = await PortalSDK.GetPurchasedShopItems();\n</code></pre> <pre><code>const purchased = await PortalSDK.getPurchasedShopItems();\n</code></pre> <pre><code>portalsdk.get_purchased_shop_items(function(self, result)\n    -- purchased shopItems\nend)\n</code></pre> <p>It gives you all the purchased items by the current player.  Now you can display your shop screen and associate your items with <code>ShopItems</code> from the API and mark purchased it.</p> <p>If your item can be purchased infinitely, you can just not mark it. SDK API does not limit you in the number of purchased items per player. </p>"},{"location":"integration/iap/#3-make-a-code-to-buy-an-item-by-id","title":"3. Make a code to buy an item by <code>id</code>","text":"UnityJavaScriptDefold <pre><code>var result = await PortalSDK.OpenPurchaseConfirmModal(itemId);\nif (result is { IsSuccessful: true }) {\n    Debug.Log(\"Purchase successful!\")\n}\nelse {\n    Debug.Log(\"Purchase failed.\")\n}\n</code></pre> <pre><code>const shopItems = await PortalSDK.getShopItems();\n\nconst shopItem = shopItems.find(item =&gt; item.id === itemId)\n\nconst result = await PortalSDK.openPurchaseConfirmModal(shopItem);\n\nif(result.status === \"success\") {\n    console.log(\"Purchase successful!\")\n} else {\n    console.log(\"Purchase failed.\")\n}\n</code></pre> <pre><code>portalsdk.open_purchase_confirm_modal(itemId, function(self, result)\n    if result.status == \"success\" then\n        print(\"Purchase successful!\")\n    else\n        print(\"Purchase failed.\")\n    end\nend)\n</code></pre> <p>After player will see modal window:    If a user doesn't have enough balance, a top-up popup will be shown    If the player confirms a purchase, after all, you will get the response <code>IsSuccessful = true</code> or <code>status == \"success\"</code></p>"},{"location":"integration/iap/#resources","title":"Resources","text":"<p>Here\u2019s a gem icon you can use in your in-game store. We\u2019ve packed it in an archive with different sizes and formats, so it\u2019s easy to add. We recommend using it to make your shop look clear and familiar to players. Here icon examples:  \u2002x1\u2003\u2003 x2\u2003\u2003\u2003 x3</p> <p>You can dowload icons here: Icons.zip</p>"},{"location":"integration/localization/","title":"Localization","text":"<p>Highly recommended to request the user's local language provided by the SDK and set it as the app language:</p> UnityDefoldJavaScript <pre><code>var locale = PortalSDK.GetLocale();\n</code></pre> <pre><code>local locale = portal_sdk.get_locale();\n</code></pre> <pre><code>const locale = window.PortalSDK.getLocale()\n</code></pre> <p>Locale strings in IETF language tag https://en.wikipedia.org/wiki/IETF_language_tag</p> <p>Example: <code>en de hy pl</code> and etc</p>"},{"location":"integration/persistent-game-state/","title":"Persistent Game State Management","text":"<p>To maintain a persistent game state for each player, you can use the SDK API to write and read key-value pairs. The storage supports up to 5 MB per player.</p> <p>The most convenient approach is to save and retrieve the game state serialized in JSON format.</p> <p>The SDK provides three methods for data access. All operations are asynchronous due to their cloud nature. Still, we provide sync methods as the main because it may be difficult to adapt existing games with async methods, especially in the Unity environment</p> UnityDefoldJavaScript <pre><code>// Write\nPortalSDK.SetValue(\"string key\", \"string value\");\n\n// Read\nstring content = PortalSDK.GetValue(\"string key\");\n\n// Remove\nPortalSDK.RemoveValue(\"string key\");\n</code></pre> <pre><code>-- Write\nportalsdk.set_value_sync(\"string key\", \"string value\");\n\n-- Read\nlocal content = portalsdk.get_value_sync(\"string key\");\n\n-- Remove\nportalsdk.remove_value(\"string key\");\n</code></pre> <pre><code>// Write\nwindow.PortalSDK.setValue(\"string key\", \"string value\");\n\n// Read\nconst content = await window.PortalSDK.getValue(\"string key\");\n\n// Remove\nwindow.PortalSDK.removeValue(\"string key\");\n</code></pre>"},{"location":"integration/safe-area-guide/","title":"Safe Area Guide","text":"<p>A Safe Area in mobile design refers to the portion of the screen where essential UI elements should be placed to ensure they  are not obscured by notches, rounded corners, or system navigation bars.  Telegram has mostly the same safe area that we can see in native mobile apps and simulators.  For example, Unity Editor has an embedded Simulator:</p> <p></p> <p></p> <p>UI in games needs to be updated according to these references.</p>"},{"location":"integration/startup-configuration/","title":"Startup configuration","text":"<p>If you think that updating the game's interface is not rational in terms of time costs, you can disable full-screen mode in <code>startupConfig</code>. You can also set the initial position of the overlay on the screen. <code>startupConfig</code> can be modified either through the <code>index.html</code> file or directly in your JS files before <code>PortalSDK.initialize</code> call.</p> <p>Important notice: because the overlay position saves the position for the user, you maybe will not see the result of changing of initial overlay position. You need to reset <code>localStorage</code> for that. Please refer to how to enable dev tools in Telegram</p> UnityDefoldJavaScript <pre><code>window.startupConfig = {\n isFullscreen: false,\n overlayPosition: \"bottomRight\"\n // \"topLeft\" | \"topRight\" | \"bottomLeft\" |\"bottomRight\"\n}; \n</code></pre> <pre><code>window.startupConfig = {\n isFullscreen: false,\n overlayPosition: \"bottomRight\"\n // \"topLeft\" | \"topRight\" | \"bottomLeft\" |\"bottomRight\"\n}; \n</code></pre> <pre><code>window.startupConfig = {\n isFullscreen: false,\n overlayPosition: \"bottomRight\"\n // \"topLeft\" | \"topRight\" | \"bottomLeft\" |\"bottomRight\"\n}; \n</code></pre> <p>Expected results</p> <p></p> <p>Disabled fullscreen</p> <p></p> <p>Enabled fullscreen</p>"},{"location":"integration/telegram-botid/","title":"How to find your game bot ID","text":"<p>To test your game locally, you need to find your game bot ID. This guide shows you how to enable bot ID visibility in Telegram and locate your bot's ID.</p>"},{"location":"integration/telegram-botid/#how-to-enable-bot-id-visibility-in-telegram","title":"How to enable Bot ID visibility in Telegram","text":""},{"location":"integration/telegram-botid/#1-step-download-and-launch-the-beta-version-of-telegram-desktop","title":"1. Step: Download and launch the Beta Version of Telegram Desktop","text":"<p>Download and launch the Beta Version of Telegram Desktop here https://desktop.telegram.org/changelog#beta-version</p>"},{"location":"integration/telegram-botid/#2-step-open-the-side-menu-and-navigate-to-settings-advanced","title":"2. Step: Open the side menu and navigate to Settings &gt; Advanced","text":"<p>Open the side menu and navigate to Settings &gt; Advanced</p> <p></p> <p></p>"},{"location":"integration/telegram-botid/#3-step-scroll-down-the-opened-menu-and-click-the-experimental-settings-button","title":"3. Step: Scroll down the opened menu and click the Experimental settings button","text":"<p>Scroll down the opened menu and click the Experimental settings button.</p> <p></p>"},{"location":"integration/telegram-botid/#4-step-enable-the-option-show-peer-ids-in-profile","title":"4. Step: Enable the option \"Show Peer ID's in Profile\"","text":"<p>Enable the option \"Show Peer ID's in Profile\"</p> <p></p>"},{"location":"integration/telegram-botid/#5-step-view-your-bot-id","title":"5. Step: View Your Bot ID","text":"<p>Open your game bot in Telegram and you will see the bot ID displayed in the profile.</p> <p></p> <p>The ID number shown is your bot ID that you'll need for local testing.</p>"},{"location":"integration/telegram-botid/#using-the-bot-id","title":"Using the Bot ID","text":"<p>Once you have your bot ID, you can use it in your local testing setup. For instructions on how to configure local testing with your bot ID, see the Local Testing Guide.</p>"},{"location":"integration/telegram-botid/#important-notes","title":"Important Notes","text":"<ul> <li>The bot ID is a numeric identifier unique to each bot</li> <li>Make sure to use the bot ID from the same mini app where you got your <code>authData</code></li> <li>The \"Show Peer ID's in Profile\" setting is only available in Telegram Desktop and some mobile versions with experimental features enabled</li> </ul>"},{"location":"integration/tg-devtools/","title":"How to enable dev tools in Telegram","text":""},{"location":"integration/tg-devtools/#1-download-and-launch-the-beta-version-of-telegram-desktop-here-httpsdesktoptelegramorgchangelogbeta-version","title":"1. Download and launch the Beta Version of Telegram Desktop here https://desktop.telegram.org/changelog#beta-version","text":""},{"location":"integration/tg-devtools/#2-open-the-side-menu-and-navigate-to-settings-advanced","title":"2. Open the side menu and navigate to <code>Settings &gt; Advanced</code>","text":""},{"location":"integration/tg-devtools/#3-scroll-down-the-opened-menu-and-click-the-experimental-settings-button","title":"3. Scroll down the opened menu and click the Experimental settings button.","text":""},{"location":"integration/tg-devtools/#4-check-the-enable-webview-inspecting-option","title":"4. Check the <code>Enable webview inspecting</code> option.","text":""},{"location":"integration/tg-devtools/#5-when-the-enable-webview-inspecting-is-enabled-right-clicking-in-the-mini-app-will-display-a-context-menu-with-the-inspect-option-allowing-you-to-open-developer-tools-or-you-can-use-hotkey-f12","title":"5. When the <code>Enable webview inspecting</code> is enabled, right-clicking in the Mini App will display a context menu with the Inspect option, allowing you to open developer tools. Or you can use hotkey <code>F12</code>","text":""},{"location":"introduction/","title":"Introduction","text":"<p>Portal is a platform designed to enable developers to bring WebGL games and JavaScript apps into the Telegram store platform,  functioning similarly to Steam on a desktop or Google Play/App Store.  It allows users to deploy their games as Web Mini Apps in Telegram, leveraging a seamless using experience within a widely accessible platform.  Portal provides a robust toolset for integrating key features such as in-game purchases, advertisements, and multiplayer functionality. </p>"},{"location":"introduction/#frequently-asked-questions","title":"Frequently Asked Questions","text":"<ol> <li> <p>How many simultaneous users can the platform handle? </p> <p>Millions</p> </li> <li> <p>Can ads be blocked in Telegram mini-apps? </p> <p>No, ad blockers for mini-apps doesn't exist. </p> </li> <li> <p>Can we use our own Telegram mini-app in Portal?</p> <p>No, Telegram mini-apps are provided by us.</p> </li> <li> <p>How can we upload game build files to the platform?</p> <p>Through GitHub. For more details, refer to the Upload Game section.</p> </li> <li> <p>Can we use our hosting for web builds? </p> <p>No, you can only use our hosting.</p> </li> <li> <p>Are there any specific resolution or aspect ratio requirements? </p> <p>No. Only general requirements for mobile games (portrait and/or landscape) and requirements  </p> </li> <li> <p>Can we use external APIs for in-game functionalities like leaderboards or matchmaking? </p> <p>Yes.</p> </li> <li> <p>Are there any restrictions on background network requests? </p> <p>No.   </p> </li> <li> <p>Can we use external APIs for in-game functionalities like leaderboards or matchmaking?</p> <p>Yes  </p> </li> </ol>"},{"location":"introduction/requirments/","title":"Requirements","text":""},{"location":"introduction/requirments/#unity-games","title":"Unity Games","text":"<ol> <li>Mobile (touch) controls</li> <li>Build Size<ul> <li>Main build: Up to 50 MB maximum for the main WebGL build + larger assets hosted.</li> <li>Up to 500 MB full game size. </li> </ul> </li> <li>Networking<ul> <li>All network code must use WebSockets transport.</li> </ul> </li> <li>Unity Version<ul> <li>Unity 6+ is strongly recommended, due to improved WebGL features and optimizations.</li> </ul> </li> <li>Performance<ul> <li>Target stable frame rates (ideally 30-60 FPS) on mid-range mobile devices.</li> <li>Game load time must be as low as possible, but the maximum is 20 seconds.</li> </ul> </li> </ol>"},{"location":"introduction/requirments/#javascript-and-defold-games","title":"JavaScript and Defold Games","text":"<ol> <li>Mobile (touch) controls</li> <li>Bundle Size</li> <li>Up to 10 MB for all initial JavaScript, CSS, and other essential assets.</li> <li>Up to 200 MB full game size</li> <li>Performance</li> <li>Aim for at least 30-60 FPS on mobile devices.</li> <li>Game load time must be as low as possible, but the maximum is 20 seconds.</li> </ol>"},{"location":"setup/0-javascript/","title":"JavaScript","text":""},{"location":"setup/0-javascript/#1-install-through-script-tag","title":"1. Install through \"script tag\"","text":"HTML <pre><code>&lt;script src=\"https://storage.googleapis.com/social-networth/scripts/sdk.umd.js\"&gt;&lt;/script&gt;\n</code></pre>"},{"location":"setup/0-javascript/#2-initialize-the-sdk","title":"2. Initialize the SDK","text":"<p>Call the initialization functions at the start of your application:</p> JavaScript <pre><code>await window.PortalSDK.initialize();\n</code></pre> <p>You can also pass configuration options to control SDK behavior:</p> JavaScript <pre><code>await window.PortalSDK.initialize(undefined, {\n  disable_startup_ads: true,\n});\n</code></pre> <p>Configuration Options:</p> <ul> <li><code>disable_startup_ads</code> - When set to <code>true</code>, prevents ads from automatically displaying at game startup. Useful for games that want full control over when ads are shown.</li> </ul>"},{"location":"setup/0-javascript/#21-bot-id-parameter","title":"2.1. Bot ID Parameter","text":"<p>The <code>initialize()</code> method also accepts a <code>botId</code> as the first parameter:</p> JavaScript <pre><code>await window.PortalSDK.initialize(34398689);\n</code></pre> <p>When do you need to specify botId?</p> <p>The <code>botId</code> parameter is not necessary if you're using our hosting and upload process. However, if you're hosting the game on your own server (which we don't recommend), you must add the <code>botId</code> parameter - it's important for authentication.</p> <p>To find your game's bot ID, see How to find your game bot ID.</p>"},{"location":"setup/0-javascript/#22-initialize-overlay","title":"2.2. Initialize Overlay","text":"<p>Initialize overlay with default options or with startup configuration:</p> JavaScript <pre><code>window.PortalSDK.initializeOverlay();\n</code></pre>"},{"location":"setup/0-javascript/#3-call-game-ready-event","title":"3. Call game-ready event","text":"<p>Call this method when the game is ready and visible to the user.  </p> JavaScript <pre><code>window.PortalSDK.gameReady()\n</code></pre> <p>Notes: Initialization should occur as early as possible in your application lifecycle to prevent delays.</p>"},{"location":"setup/0-javascript/#local-testing","title":"Local Testing","text":"<p>For instructions on how to test your game locally with full PortalSDK functionality (overlay, ads, IAPs), see the Local Testing Guide.</p>"},{"location":"setup/defold/","title":"Defold Engine","text":""},{"location":"setup/defold/#how-to-install","title":"How to install","text":""},{"location":"setup/defold/#1-copy-a-link-from-releases-on-github","title":"1. Copy a link from releases on GitHub","text":"<p>https://github.com/orbit-software/portalsdk-defold/releases</p> <p></p>"},{"location":"setup/defold/#2-install-into-dependencies-of-gameproject","title":"2. Install into dependencies of <code>game.project</code>:","text":"game.project <pre><code>[project]\ntitle = TestGame\nversion = 1.0\ndependencies#0 = https://github.com/orbit-software/portalsdk-defold/archive/refs/tags/v0.1.7.zip\n</code></pre>"},{"location":"setup/defold/#3-set-a-template-for-html5-export","title":"3. Set a template for HTML5 export","text":"game.project <pre><code>[html5]\nhtmlfile = /portalsdk/manifests/web_template/engine_template.html\ncssfile = /portalsdk/manifests/web_template/style.css\n</code></pre>"},{"location":"setup/defold/#examples-and-sources-code","title":"Examples and sources code","text":"<p>Refer to the example project to see a example of how the API works.</p> <p>API Usage Example</p> <p>The source code is available on GitHub</p> <p>PortalSDK Defold</p> <p>The API is documented in details:</p> <p>Script API</p>"},{"location":"setup/defold/#local-testing","title":"Local Testing","text":"<p>For instructions on how to test your Defold HTML5 game locally with full PortalSDK functionality (overlay, ads, IAPs), see the Local Testing Guide.</p>"},{"location":"setup/local-testing/","title":"Local Testing","text":"<p>This guide explains how to test your game locally with the PortalSDK before uploading it to the platform.</p>"},{"location":"setup/local-testing/#prerequisites","title":"Prerequisites","text":"<p>Before you begin, ensure you have:</p> <ul> <li>Access to the game in Portal (admin console)</li> </ul>"},{"location":"setup/local-testing/#how-to-test-your-game-locally","title":"How to test your game locally","text":""},{"location":"setup/local-testing/#1-step-get-authentication-data","title":"1. Step: Get Authentication Data","text":"<ol> <li>Open your game in Telegram mini app</li> <li>Open dev tools - for detailed instructions, see how to enable DevTools in Telegram</li> <li>In the browser DevTools console, paste the following command:</li> </ol> <pre><code>window.Telegram.WebApp.initData\n</code></pre> <ol> <li>Copy the output string. It will look like this:</li> </ol> <pre><code>user=%7B%22id%22%3A122374628%2C%22first_name%22%3A...\n</code></pre> <p>CRITICAL: Authentication Data Must Match</p> <p>The <code>botId</code> and <code>authData</code> must be from the same Telegram mini app. Do not mix authentication data from different apps. Without matching authentication data, local testing will NOT work.</p>"},{"location":"setup/local-testing/#2-step-modify-your-index-file","title":"2. Step: Modify Your Index File","text":"<p>Locate your game's initialization code:</p> UnityDefoldJavaScript <p>For Unity projects, you need to edit the WebGL template <code>index.html</code> file. See the Unity setup guide for details on WebGL templates.</p> <p>For Defold projects, you need to edit the HTML5 template. See the Defold setup guide for details on HTML5 templates.</p> <p>For plain JavaScript projects, edit your <code>index.html</code> or wherever you initialize the game.</p> <p>Original Code</p> <p>Your initialization code currently looks like this:</p> <pre><code>(async function () {\n  await window.PortalSDK.initialize();\n  window.PortalSDK.initializeOverlay();\n})();\n</code></pre> <p>Modified Code for Local Testing</p> <p>Change it to include the <code>botId</code> and <code>authData</code>:</p> <pre><code>(async function () {\n  await window.PortalSDK.initialize(\n    8433755170,\n    {\n      authData: 'user=%7B%22id%22%3A122374628%2C%22first_n...'\n    }\n  );\n  window.PortalSDK.initializeOverlay();\n})();\n</code></pre> <p>Replace: - <code>8433755170</code> with your actual bot ID (see How to find your game bot ID) - <code>'user=%7B%22id%22%3A122374628%2C%22first_n...'</code> with your actual <code>authData</code> string from Step 1</p>"},{"location":"setup/local-testing/#3-step-build-and-run","title":"3. Step: Build and Run","text":"UnityDefoldJavaScript <ol> <li>In Unity, go to File &gt; Build Settings</li> <li>Click Build and Run</li> <li>Your game will open in the browser with the overlay, ads, IAPs, and all other PortalSDK features working</li> </ol> <ol> <li>Go to Project &gt; Build HTML5</li> <li>Test in your browser</li> </ol> <p>That's all!</p> <p>Launch your game using your preferred method (local server, file opening, etc.)</p> <p>You should now see your game running locally with the Portal overlay, ads, IAPs, and all other SDK features working.</p>"},{"location":"setup/local-testing/#4-step-restore-original-code-before-upload","title":"4. Step: Restore Original Code Before Upload","text":"<p>Critical - Do Not Skip This Step</p> <p>Before uploading your game to GitHub, you must restore the original initialization code.</p> <p>Change the code back to:</p> <pre><code>(async function () {\n  await window.PortalSDK.initialize();\n  window.PortalSDK.initializeOverlay();\n})();\n</code></pre> <p>Remove the <code>botId</code> and <code>authData</code> parameters. If you forget this step, your game WILL NOT work correctly in production.</p>"},{"location":"setup/local-testing/#troubleshooting","title":"Troubleshooting","text":"<p>If local testing isn't working:</p> <ol> <li>Verify authentication data: Make sure the <code>authData</code> string is copied completely</li> <li>Check bot ID: Ensure the bot ID matches the mini app you got the auth data from</li> <li>Check console errors: Open browser DevTools and look for error messages</li> </ol>"},{"location":"setup/unity/","title":"Unity Engine","text":""},{"location":"setup/unity/#prerequisites","title":"Prerequisites","text":"<p>To work with PortalSDK, you\u2019ll need the following:</p> <p>Unity Versions: Unity 2022 LTS, or Unity 6 LTS (Unity 6 is preferable due to updated WebGL support). Installed WebGL Platform: Ensure that the WebGL Platform module is installed in your Unity setup.</p>"},{"location":"setup/unity/#unity-webgl-limitations","title":"Unity WebGL Limitations","text":"<p>Unity\u2019s WebGL platform offers a powerful way to run games on the web, but there are some limitations to keep in mind:</p> <ul> <li>Performance Constraints: WebGL applications run within a browser and have different performance limits than desktop builds.</li> <li>Memory Management: WebGL has specific memory constraints and handles memory differently, which can affect large games.</li> <li>Networking: WebGL networking relies on the browser\u2019s capabilities and may not support all network configurations.</li> <li>Texture Compression: Only certain types of texture compression are supported, which can impact visual quality and loading times.</li> </ul> <p>For more detailed information, check the links below.</p>"},{"location":"setup/unity/#links-to-unity-documentation-on-webgl-performance-and-limitations","title":"Links to Unity Documentation on WebGL Performance and Limitations","text":"<p>For in-depth information about optimizing and working within Unity\u2019s WebGL platform, refer to these resources:</p> <ul> <li>WebGL Performance</li> <li>WebGL Texture Compression</li> <li>WebGL Embedded Resources</li> <li>WebGL Networking</li> <li>WebGL Memory Management</li> <li>WebGL Audio</li> </ul>"},{"location":"setup/unity/#how-to-set-up-unity-game-with-portalsdk","title":"How to set up Unity Game with PortalSDK","text":""},{"location":"setup/unity/#1-set-up-the-package-from-git","title":"1. Set up the package from Git","text":"<p>Unity documentation</p> <ol> <li>Open your Unity project.</li> <li>Access the Package Manager in Unity, and select Add package from git URL...</li> <li>Enter the repository URL https://github.com/orbit-software/com.orbit.portalsdk.git</li> </ol> <p></p>"},{"location":"setup/unity/#11-set-up-the-package-from-a-local-folder-alternative-way-1","title":"1.1. Set up the package from a local folder (alternative way 1)","text":"<p>Unity documentation</p> <ol> <li>Open repository https://github.com/orbit-software/com.orbit.portalsdk</li> <li>Download repository as zip and unarchive</li> </ol> <p> </p> <p>Move <code>com.orbit.portalsdk</code> directory into <code>Assets/</code> directory of your Unity Project</p> <p> </p>"},{"location":"setup/unity/#12-step-set-up-the-unity-package-directly-into-project-alternative-way-2","title":"1.2. Step: Set up the Unity Package directly into project (alternative way 2)","text":"<ol> <li>Open repository https://github.com/orbit-software/com.orbit.portalsdk </li> <li>Download repository as zip and unarchive</li> </ol> <p>Move <code>com.orbit.portalsdk</code> directory into <code>Assets/</code> directory of your Unity Project</p> <p> </p>"},{"location":"setup/unity/#2-step-download-the-webgl-template","title":"2. Step: Download the WebGL Template","text":"<ul> <li>Go to the repository unity-web-template and download the template files.  </li> <li>Extract the contents if they are compressed.</li> </ul>"},{"location":"setup/unity/#3-step-copy-the-webgl-template-into-your-project","title":"3. Step: Copy the WebGL Template into Your Project","text":"<ul> <li>In your Unity project directory, navigate to <code>Assets/WebGLTemplates/</code>.  </li> <li>If it doesn\u2019t already exist, create a folder named <code>PortalSDK</code>.  </li> <li>Copy the downloaded PortalSDK WebGL template directory into this location.</li> </ul>"},{"location":"setup/unity/#4-set-the-webgl-template-in-player-settings","title":"4. Set the WebGL Template in Player Settings","text":"<ul> <li>Go to Edit &gt; Project Settings &gt; Player in Unity.  </li> <li>Under the WebGL settings, find the WebGL Template selector.  </li> <li>Select PortalSDK from the selector to apply it as your template.</li> </ul>"},{"location":"setup/unity/#5-step-set-webgl-publishing-settings","title":"5. Step: Set WebGL Publishing settings","text":"<p>Important settings:</p> <ul> <li>Compression Format: <code>Brotli</code> </li> <li>Name Files As Hashes: <code>true</code> </li> <li>Target WebAssembly 2023: <code>false</code> </li> <li>Use WebAssembly.Table: <code>false</code> </li> <li>Enable BigInt: <code>false</code></li> </ul> <p> </p>"},{"location":"setup/unity/#6-step-build-and-test","title":"6. Step: Build and Test","text":"<p>To test your game, you have two options:</p>"},{"location":"setup/unity/#option-a-local-testing-recommended-for-development","title":"Option A: Local Testing (Recommended for Development)","text":"<p>Build and Run in Unity will only work with the PortalSDK if you configure local testing parameters.</p> <p>For instructions on how to test your Unity WebGL game locally with full PortalSDK functionality (overlay, ads, IAPs), see the Local Testing Guide.</p>"},{"location":"setup/unity/#option-b-upload-to-platform","title":"Option B: Upload to Platform","text":"<p>Alternatively, you can upload your build to the platform for testing:</p> <ol> <li>In Unity, go to File &gt; Build Settings</li> <li>Select WebGL as your platform and click Switch Platform</li> <li>Click Build (not Build and Run)</li> <li>Upload the build files to GitHub following the Upload Game Guide</li> </ol> <p>Note</p> <p>Without local testing configuration, \"Build and Run\" will launch the game but the PortalSDK features (overlay, ads, IAPs) will not function properly. You must either use local testing OR upload to the platform.</p>"},{"location":"upload-game/0-upload-game/","title":"Upload game","text":"<p>Note: Access to the upload games is provided by request and requires your GitHub email.</p> <p>To upload games, we use <code>GitHub</code> as the primary platform for managing and storing build files. Simply push your game's build files into the designated <code>/public/</code> directory. </p>"},{"location":"upload-game/0-upload-game/#how-to-upload-game-to-platform","title":"How to upload game to platform","text":""},{"location":"upload-game/0-upload-game/#1-you-will-have-access-to-the-github-repository-for-the-game","title":"1. You will have access to the GitHub repository for the game:","text":""},{"location":"upload-game/0-upload-game/#2-push-your-build-files-into-public-directory","title":"2. Push your build files into <code>/public/</code> directory","text":""},{"location":"upload-game/0-upload-game/#3-after-a-few-minutes-your-game-can-be-accessed-in-the-portal","title":"3. After a few minutes your game can be accessed in the Portal.","text":""},{"location":"upload-game/admin-panel/","title":"Admin Console","text":"<p>Note: Access to the console is provided by request and requires your Telegram nickname.</p>"},{"location":"upload-game/admin-panel/#how-to-get-access","title":"How to get access","text":""},{"location":"upload-game/admin-panel/#1-send-command-admin-to-the-telegram-bot-orbit_portal_bot","title":"1. Send command <code>/admin</code> to the Telegram bot  @orbit_portal_bot","text":""},{"location":"upload-game/admin-panel/#2-you-will-get-a-link-to-the-admin-console-where-you-can-administrate-your-games","title":"2. You will get a link to the admin console where you can administrate your games","text":""},{"location":"upload-game/admin-panel/#how-to-add-edit-or-remove-items","title":"How to add, edit, or remove items","text":""},{"location":"upload-game/admin-panel/#2-select-one-of-your-games-and-click-the-store-button-items","title":"2. Select one of your games and click the store button <code>Items</code>","text":""},{"location":"upload-game/admin-panel/#3-you-have-access-to-change-items-their-description-and-prices","title":"3. You have access to change items, their description, and prices","text":""},{"location":"upload-game/admin-panel/#change-game-configuration","title":"Change game configuration","text":""},{"location":"upload-game/admin-panel/#1-change-supported-devices-and-supported-screen-formats","title":"1. Change supported devices and supported screen formats","text":""},{"location":"upload-game/admin-panel/#2-game-name-description-colors","title":"2. Game name, description, colors, ...","text":""},{"location":"upload-game/admin-panel/#3-screenshots-image-avatars","title":"3. Screenshots, image, avatars, ...","text":""}]}